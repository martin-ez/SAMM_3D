import React, {Component} from 'react';
import PropTypes from 'prop-types';

import './css/DrumsStyle.css';

class Drums extends Component {
  constructor(props) {
    super(props);
    this.state = {
      selector: -1,
      controls: 4
    };
  }

  render() {
    var MediaQuery = require('react-responsive');
    return (
      <div>
        <MediaQuery query='(min-width: 800px)'>
          <div id="Drums" className="instrumentUILarge">
            {this.RenderDrums()}
          </div>
        </MediaQuery>
        <MediaQuery query='(max-width: 800px)'>
          <div id="Drums" className="instrumentUISmall">
            {this.RenderDrums()}
          </div>
        </MediaQuery>
      </div>
    );
  }

  RenderDrums() {
    return (
      <svg id="DrumsModule" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none">
        <g id="soundSelectors">
          <path className="selector" fill={this.state.selector===1 || this.state.selector===4?"rgba(229,229,299,0.75)":"none"} vectorEffect="non-scaling-stroke" d="M50 12c-21 0-38 17.1-38 38s17.1 38 38 38 38-17.1 38-38-17-38-38-38zm0 68c-16.6 0-30-13.4-30-30s13.4-30 30-30 30 13.4 30 30-13.4 30-30 30z"/>
          <path className="selector" fill={this.state.selector===0 || this.state.selector===4?"rgba(229,229,299,0.75)":"none"} vectorEffect="non-scaling-stroke" d="M50 18.2c-17.6 0-31.8 14.2-31.8 31.8s14.2 31.8 31.8 31.8S81.9 67.6 81.9 50 67.7 18.2 50.1 18.2zM50 74c-13.2 0-24-10.8-24-24s10.8-24 24-24 24 10.8 24 24-10.8 24-24 24z"/>
          <path className="selector" fill={this.state.selector===3 || this.state.selector===4?"rgba(229,229,299,0.75)":"none"} vectorEffect="non-scaling-stroke" d="M50 5.6C25.5 5.6 5.5 25.5 5.5 50.1c0 24.5 19.9 44.5 44.5 44.5s44.5-19.9 44.5-44.5S74.6 5.6 50 5.6zm.1 80.6c-20 0-36.2-16.2-36.2-36.2s16.2-36.2 36.2-36.2S86.3 30 86.3 50 70.1 86.2 50.1 86.2z"/>
          <path className="selector" fill={this.state.selector===2 || this.state.selector===4?"rgba(229,229,299,0.75)":"none"} vectorEffect="non-scaling-stroke" d="M50 0C22.4 0 0 22.4 0 50s22.4 50 50 50 50-22.4 50-50S77.7 0 50 0zm0 92.2c-23.3 0-42.3-19-42.3-42.3S26.7 7.6 50 7.6c23.3 0 42.3 19 42.3 42.3.1 23.4-18.9 42.3-42.3 42.3z"/>
        </g>
        <g id="beatSelectors">
          <path className="beatSelector" fill="#E5E5E5" transform={"rotate("+(22.5 * this.props.beat)+" 50 50)"} d="M40.3,1l5,24.6c1.5-0.3,2.7-0.5,4.9-0.5c2.1,0,3.3,0.2,4.7,0.5c1.6-7.9,3.4-16.8,5-24.6C57.2,0.4,54,0,50,0S43.1,0.4,40.3,1z"/>
        </g>
        <g id="controls">
          <g className={"control"+(this.state.controls===0?" active":"")}
            onMouseEnter={this.state.controls===0?"":(() => this.ControlHover(0))}
            onMouseLeave={() => this.ControlHoverLeave()}
            onClick={() => this.SelectControl(0)}>
            <polygon fill={this.state.controls===0?"#282828":(this.state.selector===0?"#282828":"#181818")}
              points="38.8,41.9 28.8,41.9 31.2,35.8 36.2,35.8"/>
              <path fill={this.state.controls===0?"#E5E5E5":"#DF2230"} d="M36.4,41.3l-0.3-2c0-0.1,0.1-0.3,0.1-0.4c0,0,0,0,0,0h0c0,0,0.1,0,0.1-0.1v-0.4
                c0,0,0-0.1-0.1-0.1h0c0,0,0,0,0,0c0-0.5-0.3-1-0.6-1.4c0,0,0,0,0,0l0,0c0,0,0-0.1,0-0.1l-0.2-0.3c0,0-0.1,0-0.1,0l0,0c0,0,0,0,0,0
                c-0.4-0.4-1-0.6-1.5-0.6l0,0c0,0-0.1,0-0.1,0c-0.5,0-1,0.2-1.4,0.6c0,0,0,0,0,0l0,0c0,0-0.1,0-0.1,0l-0.2,0.3c0,0,0,0.1,0,0.1l0,0
                c0,0,0,0,0,0c-0.3,0.4-0.5,0.9-0.6,1.4c0,0,0,0,0,0h0c0,0-0.1,0-0.1,0.1v0.4c0,0,0,0.1,0.1,0.1h0c0,0,0,0,0,0c0,0.1,0,0.3,0.1,0.4
                l-0.3,2c0,0-0.1,0-0.1,0.1v0.1c0,0,0,0.1,0.1,0.1h0.1c0,0,0.1,0,0.1-0.1v-0.1c0,0,0-0.1-0.1-0.1l0.3-1.7c0.1,0.2,0.2,0.4,0.3,0.6
                c0,0,0,0,0,0l0,0c0,0,0,0.1,0,0.1l0.2,0.3c0,0,0.1,0,0.1,0l0,0c0,0,0,0,0,0c0.4,0.4,1,0.6,1.6,0.6c0,0,0.1,0,0.1,0
                c0.1,0,0.1,0,0.2,0h0c0.5-0.1,1-0.3,1.4-0.6c0,0,0,0,0,0l0,0c0,0,0.1,0,0.1,0l0.2-0.3c0,0,0-0.1,0-0.1l0,0c0,0,0,0,0,0
                c0.1-0.2,0.2-0.4,0.3-0.6l0.3,1.7c0,0-0.1,0-0.1,0.1v0.1c0,0,0,0.1,0.1,0.1h0.1c0,0,0.1,0,0.1-0.1v-0.1
                C36.5,41.4,36.5,41.3,36.4,41.3z M33.7,41c-0.1,0-0.1,0-0.2,0v-0.6h0.2V41z M34,41c0,0-0.1,0-0.2,0c0,0,0,0,0,0v-0.6H34L34,41
                L34,41z M34.2,41v-0.5c0-0.1-0.1-0.1-0.1-0.1h-0.2v-1.2h0c0.1,0,0.2-0.1,0.2-0.2v-0.3c0-0.1-0.1-0.2-0.2-0.2h-0.2
                c-0.1,0-0.2,0.1-0.2,0.2v0.3c0,0.1,0.1,0.2,0.2,0.2h0v1.2h-0.2c-0.1,0-0.1,0.1-0.1,0.1V41c-1-0.2-1.8-1.1-1.8-2.2
                c0-0.6,0.2-1.2,0.6-1.7c0.4-0.5,1-0.7,1.6-0.8c0,0,0.1,0,0.1,0c1.2,0,2.2,1,2.2,2.2C36,39.7,35.2,40.8,34.2,41z"/>
          </g>
          <g className={"control"+(this.state.controls===1?" active":"")}
            onMouseEnter={this.state.controls===1?"":(() => this.ControlHover(1))}
            onMouseLeave={() => this.ControlHoverLeave()}
            onClick={() => this.SelectControl(1)}>
      			<polygon fill={this.state.controls===1?"#282828":(this.state.selector===1?"#282828":"#181818")}
              points="44.4,41.9 39.4,41.9 36.9,35.8 46.9,35.8"/>
      			<g fill={this.state.controls===1?"#E5E5E5":"#DF2230"}>
      				<path d="M41.9,41.6c0.1,0,0.2-0.1,0.3-0.2c0.3,0,0.6-0.1,0.9-0.3c0,0.1,0.1,0.2,0.1,0.4
      				c0.1,0,0.1,0,0.2,0c-0.1-0.1-0.1-0.3-0.2-0.4c0,0,0-0.1,0-0.1c0,0,0-0.1,0-0.1c0-0.1,0-0.1-0.1-0.2c0,0,0-0.1,0-0.1
      				c0,0,0-0.1,0-0.1c-0.2-0.6-0.4-1.1-0.5-1.4c0.2,0.3,0.4,0.7,0.6,1.3c0,0,0,0.1,0,0.1c0,0,0,0.1,0,0.1c0,0.1,0,0.1,0.1,0.2
      				c0,0,0,0.1,0,0.1c0,0,0,0.1,0,0.1c0.1,0.2,0.1,0.3,0.2,0.5c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0c0,0,0-0.1,0-0.1
      				c-0.1-0.2-0.2-0.4-0.2-0.6c0,0,0,0,0.1,0c0.1,0,0.2,0,0.3-0.1s0.1-0.2,0.1-0.3c0.3-0.4,0.5-0.9,0.6-1.4c0.1,0,0.2-0.1,0.2-0.3
      				s-0.1-0.2-0.2-0.3c0-0.5-0.2-1-0.6-1.4c0-0.1,0-0.2-0.1-0.3c-0.1-0.1-0.2-0.1-0.3-0.1c-0.4-0.3-0.9-0.5-1.4-0.6
      				c0-0.1-0.1-0.2-0.3-0.2s-0.2,0.1-0.3,0.2c-0.5,0-1,0.2-1.4,0.6c-0.1,0-0.2,0-0.3,0.1s-0.1,0.2-0.1,0.3c-0.3,0.4-0.5,0.9-0.6,1.4
      				c-0.1,0-0.2,0.1-0.2,0.3s0.1,0.2,0.2,0.3c0,0.5,0.2,1,0.6,1.4c0,0.1,0,0.2,0.1,0.3c0.1,0.1,0.2,0.1,0.3,0.1c0,0,0,0,0,0
      				c-0.1,0.2-0.2,0.5-0.3,0.7c0.1,0,0.1,0,0.2,0c0.1-0.2,0.2-0.4,0.2-0.6c0,0,0-0.1,0-0.1c0,0,0-0.1,0-0.1c0-0.1,0-0.1,0.1-0.2
      				c0,0,0-0.1,0-0.1c0,0,0-0.1,0-0.1c0.2-0.4,0.4-0.8,0.5-1.1c-0.1,0.3-0.2,0.7-0.4,1.1c0,0,0,0.1,0,0.1c0,0,0,0.1,0,0.1
      				c0,0.1,0,0.1-0.1,0.2c0,0,0,0.1,0,0.1c0,0,0,0.1,0,0.1c-0.1,0.2-0.1,0.3-0.2,0.5c0.1,0,0.1,0,0.2,0c0.1-0.1,0.1-0.3,0.2-0.4
      				c0.3,0.1,0.6,0.2,0.9,0.3C41.7,41.5,41.8,41.6,41.9,41.6z M40.4,40.6c0,0,0,0.1-0.1,0.1c-0.1,0-0.1-0.1-0.2-0.2
      				c-0.1-0.1-0.1-0.1-0.2-0.2c-0.3-0.4-0.5-0.8-0.5-1.3c0-0.1,0-0.2,0-0.3c0-0.1,0-0.2,0-0.3c0-0.5,0.2-0.9,0.5-1.3
      				c0.1-0.1,0.1-0.1,0.2-0.2c0.1-0.1,0.1-0.1,0.2-0.2c0.4-0.3,0.8-0.5,1.3-0.5c0.1,0,0.2,0,0.3,0c0.1,0,0.2,0,0.3,0
      				c0.5,0,0.9,0.2,1.3,0.5c0.1,0.1,0.1,0.1,0.2,0.2s0.1,0.1,0.2,0.2c0.3,0.4,0.5,0.8,0.5,1.3c0,0.2,0,0.3,0,0.5
      				c0,0.4-0.2,0.9-0.5,1.3c-0.1,0.1-0.1,0.1-0.2,0.2c-0.1,0.1-0.1,0.1-0.2,0.2c0,0,0-0.1,0-0.1c0,0,0-0.1,0-0.1c0,0,0,0,0,0
      				c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1c0.4-0.4,0.5-0.9,0.6-1.4c0-0.1,0-0.2,0-0.2c0-0.5-0.2-1-0.6-1.4c0,0-0.1-0.1-0.1-0.1
      				c0,0-0.1-0.1-0.1-0.1c-0.4-0.3-0.9-0.5-1.4-0.6c0,0-0.1,0-0.1,0s-0.1,0-0.1,0c-0.5,0-1,0.2-1.4,0.6c0,0-0.1,0.1-0.1,0.1
      				c0,0-0.1,0.1-0.1,0.1c-0.3,0.4-0.5,0.9-0.6,1.4c0,0,0,0.1,0,0.1s0,0.1,0,0.1c0,0.5,0.2,1,0.6,1.4c0,0,0.1,0.1,0.1,0.1
      				C40.3,40.5,40.4,40.5,40.4,40.6C40.4,40.5,40.4,40.5,40.4,40.6C40.4,40.6,40.4,40.6,40.4,40.6z M41.3,39.4c0.1,0,0.2-0.1,0.2-0.2
      				c0-0.1,0-0.2,0-0.2c0-0.1-0.1-0.2-0.1-0.2c0,0-0.1,0-0.1,0c-0.1,0-0.2,0.1-0.3,0.2c0,0.1,0,0.2,0,0.3c-0.1,0.2-0.3,0.6-0.5,1.1
      				c0,0,0,0-0.1-0.1c-0.4-0.4-0.6-0.9-0.6-1.5c0-0.6,0.2-1.1,0.6-1.5c0.4-0.4,0.9-0.6,1.5-0.6c0.6,0,1.1,0.2,1.5,0.6
      				c0.8,0.8,0.8,2.1,0,2.9c0,0-0.1,0.1-0.1,0.1c-0.2-0.6-0.5-1-0.6-1.3c0-0.1,0-0.2,0-0.3c-0.1-0.1-0.2-0.2-0.3-0.2c0,0-0.1,0-0.1,0
      				c-0.1,0-0.1,0.1-0.1,0.2c0,0.1,0,0.2,0,0.2c0,0.1,0.1,0.2,0.2,0.2c0.1,0.3,0.3,0.8,0.5,1.4c-0.3,0.2-0.6,0.2-1,0.2
      				c-0.4,0-0.7-0.1-1-0.3C41.1,40.2,41.2,39.7,41.3,39.4z M41.2,39.1c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0.1
      				c0,0,0,0.1,0,0.1c0,0.1-0.1,0.1-0.1,0.1l0,0l0,0C41.1,39.2,41.1,39.2,41.2,39.1z M42.5,39.1L42.5,39.1L42.5,39.1
      				c-0.1,0-0.1,0-0.2-0.1c0,0,0-0.1,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1C42.5,39,42.5,39,42.5,39.1z M40.7,41
      				c0-0.1,0-0.1,0.1-0.2c0.3,0.2,0.6,0.2,0.9,0.3c0,0,0.1,0,0.1,0s0.1,0,0.1,0c0.3,0,0.6-0.1,0.9-0.2c0,0.1,0,0.1,0.1,0.2
      				c-0.3,0.1-0.5,0.2-0.8,0.2c-0.1,0-0.2,0-0.3,0s-0.2,0-0.3,0C41.3,41.2,41,41.1,40.7,41z"/>
      				<path d="M43.1,37.7C43.1,37.7,43.1,37.7,43.1,37.7c0.1,0,0.1,0,0.1,0c0,0,0-0.1,0-0.1
      				c-0.4-0.4-0.8-0.6-1.4-0.6c0,0-0.1,0-0.1,0.1c0,0,0,0.1,0.1,0.1c0.1,0,0.2,0,0.3,0c0.3,0,0.6,0.2,0.8,0.3
      				C43,37.6,43,37.6,43.1,37.7z"/>
      				<path d="M41.1,37.2c-0.2,0.1-0.4,0.2-0.6,0.4c0,0,0,0.1,0,0.1c0,0,0,0,0.1,0c0,0,0,0,0.1,0
      				c0.2-0.2,0.3-0.3,0.6-0.4c0,0,0.1-0.1,0-0.1C41.2,37.2,41.2,37.2,41.1,37.2z"/>
      		  </g>
          </g>
          <g className={"control"+(this.state.controls===2?" active":"")}
            onMouseEnter={this.state.controls===2?"":(() => this.ControlHover(2))}
            onMouseLeave={() => this.ControlHoverLeave()}
            onClick={() => this.SelectControl(2)}>
            <polygon fill={this.state.controls===2?"#282828":(this.state.selector===2?"#282828":"#181818")}
              points="60.6,41.9 55.6,41.9 53.1,35.8 63.1,35.8"/>
            <g fill={this.state.controls===2?"#E5E5E5":"#DF2230"}>
              <path d="M56.1,39l0.9,0.3c0.2,0,0.3,0.1,0.4,0.3c0.2,0.2,0.4,0.4,0.7,0.4s0.6-0.1,0.7-0.4c0.1-0.1,0.2-0.2,0.4-0.3l0.9-0.3c-0.5,0-1.1,0.1-2,0.1S56.6,39,56.1,39z"/>
              <path d="M58,40v1c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0v-1c0,0-0.1,0-0.1,0C58.1,40,58,40,58,40z"/>
              <path d="M61.3,38.6L59.2,38c-0.2,0-0.3-0.1-0.4-0.3c-0.1-0.2-0.4-0.4-0.7-0.4v0.1c0,0,0,0.1-0.1,0.1
                c0,0-0.1,0-0.1-0.1v-0.1c-0.3,0-0.5,0.2-0.7,0.4C57.3,37.9,57.2,38,57,38l-2.1,0.6c0,0,0,0,0,0c0,0,0,0,0,0l0,0
                c0,0,0.9,0.3,3.2,0.3S61.3,38.7,61.3,38.6L61.3,38.6L61.3,38.6C61.3,38.7,61.3,38.7,61.3,38.6C61.3,38.6,61.3,38.6,61.3,38.6z
                M58.7,38.3c-0.2,0.1-0.4,0.1-0.6,0.1c-0.3,0-0.6-0.1-0.6-0.1c0,0-0.1-0.1,0-0.1c0,0,0.1-0.1,0.1,0c0,0,0.6,0.2,1.1,0
                C58.7,38.2,58.7,38.2,58.7,38.3C58.8,38.3,58.8,38.3,58.7,38.3z"/>
                <path d="M61.4,38.4l-2.1-0.6c-0.1,0-0.2-0.1-0.2-0.1c-0.2-0.3-0.4-0.4-0.7-0.5v-0.6
                  c0-0.1-0.1-0.2-0.2-0.2s-0.2,0.1-0.2,0.2v0.6c-0.3,0.1-0.6,0.2-0.7,0.5c0,0.1-0.1,0.1-0.2,0.1l-2.1,0.6c-0.1,0-0.2,0.2-0.2,0.3
                  c0,0.1,0.1,0.2,0.2,0.3l2.1,0.6c0.1,0,0.2,0.1,0.2,0.1c0.1,0.2,0.3,0.3,0.6,0.4v1c0,0.1,0,0.1,0.1,0.2c0,0,0.2,0.1,0.3,0.1
                  c0.2,0,0.3-0.1,0.3-0.1l0,0l0,0l0,0c0,0,0.1-0.1,0.1-0.2v-1c0.2-0.1,0.4-0.2,0.6-0.4c0-0.1,0.1-0.1,0.2-0.1l2.1-0.6
                  c0.1,0,0.2-0.1,0.2-0.2v0v0C61.6,38.5,61.5,38.4,61.4,38.4z M61.5,38.7c0,0.1-0.1,0.1-0.1,0.1l-2.1,0.6c-0.1,0-0.2,0.1-0.3,0.2
                  c-0.1,0.2-0.4,0.3-0.6,0.4v1.1c0,0,0,0,0,0.1c0,0-0.1,0.1-0.2,0.1c-0.1,0-0.2-0.1-0.2-0.1c0,0,0,0,0-0.1V40
                  c-0.2-0.1-0.4-0.2-0.6-0.4c-0.1-0.1-0.2-0.2-0.3-0.2l-2.1-0.6c-0.1,0-0.1-0.1-0.1-0.1c0-0.1,0-0.1,0.1-0.2l2.1-0.6
                  c0.1,0,0.2-0.1,0.3-0.2c0.2-0.3,0.5-0.4,0.8-0.4v-0.7c0,0,0-0.1,0.1-0.1c0,0,0.1,0,0.1,0.1v0.7c0.3,0,0.6,0.2,0.8,0.4
                  c0.1,0.1,0.2,0.2,0.3,0.2l2.1,0.6C61.4,38.5,61.5,38.6,61.5,38.7z"/>
            </g>
          </g>
          <g className={"control"+(this.state.controls===3?" active":"")}
            onMouseEnter={this.state.controls===3?"":(() => this.ControlHover(3))}
            onMouseLeave={() => this.ControlHoverLeave()}
            onClick={() => this.SelectControl(3)}>
            <polygon fill={this.state.controls===3?"#282828":(this.state.selector===3?"#282828":"#181818")}
              points="55,41.9 45,41.9 47.5,35.8 52.5,35.8"/>
            <g fill={this.state.controls===3?"#E5E5E5":"#DF2230"}>
              <path d="M51.5,36.8c0.1,0.1,0.1,0.1,0.1,0.2c0,0,0,0,0.1,0c0.1-0.1,0-0.2-0.1-0.3c-0.1-0.1-0.3-0.1-0.4,0l0,0C51.3,36.7,51.4,36.7,51.5,36.8z"/>
              <path d="M49.9,37.6c0,0,0,0.1,0,0.2l0.9-0.9c0,0,0.1-0.1,0.1-0.1c0.1-0.1,0-0.2-0.1-0.3c-0.1-0.1-0.3-0.1-0.4,0l-0.8,0.9C49.8,37.4,49.9,37.4,49.9,37.6z"/>
              <path d="M47.8,39.7c0-0.5,0.2-0.9,0.5-1.3l1-1c0-0.1,0-0.2,0-0.3c0-0.1-0.1-0.1-0.2-0.2L48,38c-0.6,0.6-0.6,1.5-0.1,2.1C47.9,40,47.8,39.9,47.8,39.7z"/>
              <path d="M48.5,38.6l1.1-1.2c0.1,0.1,0.1,0.1,0.2,0.2c0,0.1,0.1,0.3-0.1,0.4l-0.6,0.7c0,0,0,0.1,0,0.1
              c0,0,0.1,0,0.1,0l1.9-1.9c0.1-0.1,0.3-0.1,0.4,0c0.1,0.1,0.1,0.3,0,0.4l-1.3,1.4c0,0,0,0.1,0,0.1c0,0,0.1,0,0.1,0l1.5-1.6
              c0.1-0.1,0.3-0.1,0.4,0c0.1,0.1,0.1,0.3,0,0.4l-1.5,1.6c0,0,0,0.1,0,0.1c0,0,0.1,0,0.1,0l1.3-1.4c0.1-0.1,0.3-0.1,0.4,0
              c0.1,0.1,0.1,0.3,0,0.4L51,39.6c0,0,0,0.1,0,0.1c0,0,0.1,0,0.1,0l0.8-0.8c0.1-0.1,0.3-0.1,0.4,0c0.1,0.1,0.1,0.3,0,0.4l-1.5,1.5
              c-0.6,0.6-1.7,0.7-2.3,0C47.9,40.2,47.8,39.2,48.5,38.6"/>
            </g>
          </g>
          <g className={"control"+(this.state.controls===4?" active":"")}
            onMouseEnter={this.state.controls===4?"":(() => this.ControlHover(4))}
            onMouseLeave={() => this.ControlHoverLeave()}
            onClick={() => this.SelectControl(4)}>
      			<polygon fill={this.state.controls===4?"#282828":(this.state.selector===4?"#282828":"#181818")}
              points="71.2,41.9 61.2,41.9 63.7,35.8 68.7,35.8"/>
      			<g fill={this.state.controls===4?"#E5E5E5":"#DF2230"}>
      				<path d="M67.9,40.6C67.9,40.6,67.9,40.6,67.9,40.6c0.1,0.1,0.1,0,0.1,0S68,40.5,67.9,40.6
      				C67.9,40.5,67.9,40.5,67.9,40.6l-0.3-0.5v-0.9h0.7v-0.1h0v-0.5h0v-0.1h-1.6v0.1h0V39c-0.2-0.1-0.4-0.2-0.7-0.2
      				c-0.2,0-0.4,0-0.5,0.1l0-0.1l0,0l0-0.1L64,38.5l0,0.1l0,0l-0.1,0.6h-0.2v0c0-0.1-0.1-0.2-0.1-0.2v-0.1h0v-0.7c0,0,0,0,0-0.1
      				c0,0,0,0,0,0l0.7-0.4c0.1,0,0.2,0.1,0.3,0.1c0.6,0.1,1,0,1.1-0.1c0-0.2-0.4-0.4-0.9-0.5c-0.6-0.1-1,0-1.1,0.1
      				c0,0.1,0.2,0.3,0.5,0.4l-0.7,0.4c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1l-0.7,0.4c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l0.7-0.3
      				c0,0,0,0,0,0v0.7h0V39c-0.1,0-0.1,0.1-0.1,0.2v0.2c0,0.1,0.1,0.1,0.1,0.2v1.1L62.7,41c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1
      				c0,0,0,0.1,0.1,0.1c0,0,0.1,0,0.1-0.1l0.8-0.5l0.8,0.5c0,0,0,0.1,0.1,0.1c0,0,0.1,0,0.1-0.1c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0
      				l-0.8-0.5v-1.1c0.1,0,0.1-0.1,0.1-0.2v0h0.2l0,0.5l0,0l0,0.1l1.1,0.1c0,0.1,0,0.2,0,0.3c0,0-0.1,0.1,0,0.1l0,0.1L64.8,41
      				c0,0,0,0,0,0.1c0,0,0,0.1,0.1,0.1c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0l0.1-0.5c0,0,0.1,0,0.1,0c0.2,0.3,0.6,0.6,1,0.6
      				c0.4,0,0.8-0.2,1-0.5l0,0l0,0c0,0,0,0,0.1,0l0.1,0.5c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1s0.1,0,0.1-0.1c0,0,0,0,0-0.1l-0.1-0.6l0,0
      				l0.1-0.1l0.1,0.1v0h0.1v0l0.1-0.1L67.9,40.6C67.9,40.6,67.9,40.6,67.9,40.6z M67.5,40.3L67.5,40.3v-0.1V40.3z M67.5,40.1
      				l-0.2,0.2c0,0,0,0,0,0c0-0.1,0.1-0.2,0.1-0.3c0-0.3-0.1-0.5-0.2-0.7h0.4L67.5,40.1L67.5,40.1z M67.6,40.3v-0.1V40.3L67.6,40.3z"/>
      				<path d="M69.4,37.9h-1.7l0.8,0.3v2.1L67.8,41c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0.1,0.1,0.1
      				c0,0,0.1,0,0.1-0.1l0.7-0.8l0.7,0.8c0,0,0,0.1,0.1,0.1c0,0,0.1,0,0.1-0.1c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0l-0.7-0.8v-2.1L69.4,37.9z"/>
      				<path d="M68.5,37.6V37c0,0,0,0,0,0c0,0,0,0,0,0L68.5,37.6l-0.9,0.3h1.7L68.5,37.6z"/>
      			</g>
      		</g>
        </g>
        <g id="pads">
          {this.RenderPads()}
        </g>
      </svg>
    );
  }

  RenderPads() {
    var pattern = this.props.pattern.pattern;

    return pattern.map((p, i) =>{
      return p.map((q,j) => {
        var hit = (q==='x');
        var current = (j===this.props.beat);
        var selector = false;
        if(this.state.selector < 2) {
          selector = (i===this.state.selector);
        } else if ((this.state.selector === 2 && (i===2 || i===3)) || (this.state.selector === 3 && i===4) || this.state.selector === 4) {
          selector = true;
        }
        switch(i) {
          case 0:
          return (
            <path key={i+":"+j} className={"pad"+(hit?" active":"")} onClick={() => this.ChangePattern(i,j)}
              stroke="#181818" fill={hit?"#181818":"#DF2230"} transform={"rotate("+(22.5 * j)+" 50 50)"}
              d="M54.2,24.4c-1.3-0.2-2.6-0.3-3.9-0.3c-0.1,0-0.1,0-0.2,0c-1.4,0-2.7,0.1-4.1,0.3l-0.8-4.2c1.6-0.3,3.3-0.4,4.9-0.4s3.3,0.1,4.9,0.4L54.2,24.4z"/>
          );
          break;
          case 1:
          return (
            <path key={i+":"+j} className={"pad"+(hit?" active":"")} onClick={() => this.ChangePattern(i,j)}
              stroke="#181818" fill={hit?"#181818":"#DF2230"} transform={"rotate("+(22.5 * j)+" 50 50)"}
              d="M50.1,13.6c-2.1,0-4,0.2-6,0.6l0.8,4.2c1.8-0.3,3.4-0.5,5.2-0.5c0.1,0,3.6,0.2,5.3,0.5l0.8-4.2C54.3,13.8,50.2,13.6,50.1,13.6z"/>
          );
          break;
          case 2:
          return (
            <path key={i+":"+j} className={"pad"+(hit?" active":"")} onClick={() => this.ChangePattern(i,j)}
              stroke="#181818" fill={hit?"#181818":"#DF2230"} transform={"rotate("+(22.5 * j)+" 50 50)"}
              d="M41.5,1.9l0.9,4.2c2.4-0.5,4.7-0.7,7.1-0.7V1.1C46.8,1.2,44.1,1.4,41.5,1.9z"/>
          );
          break;
          case 3:
          return (
            <path key={i+":"+j} className={"pad"+(hit?" active":"")} onClick={() => this.ChangePattern(i,j)}
              stroke="#181818" fill={hit?"#181818":"#DF2230"} transform={"rotate("+(22.5 * j)+" 50 50)"}
              d="M58.5,1.9l-0.9,4.2c-2.4-0.5-5.1-0.7-7.1-0.7V1.1C53.5,1.2,55.9,1.4,58.5,1.9z"/>
          );
          break;
          case 4:
          return (
            <path key={i+":"+j} className={"pad"+(hit?" active":"")} onClick={() => this.ChangePattern(i,j)}
              stroke="#181818" fill={hit?"#181818":"#DF2230"} transform={"rotate("+(22.5 * j)+" 50 50)"}
              d="M56.7,12.2c-2.1-0.4-4.3-0.6-6.4-0.6h-0.1c-2.2,0-4.4,0.2-6.5,0.6l-0.8-4.1c2.4-0.5,4.9-0.7,7.4-0.7c0.1,0,0.2,0,0.3,0c2.4,0,4.7,0.3,7,0.7L56.7,12.2z"/>
          );
          break;
        }
      });
    });
  }

  ChangePattern(i,j) {
    var drums = this.props.pattern;
    drums.pattern[i][j] = (drums.pattern[i][j]==='-'?"x":"-");
    if(i==2 && drums.pattern[i][j]==='x') {
      drums.pattern[3][j] = '-';
    } else if (i==3 && drums.pattern[i][j]==='x') {
      drums.pattern[2][j] = '-';
    }
    this.props.update(drums);
  }

  ControlHover(i) {
    this.setState({
      selector: i
    });
  }

  ControlHoverLeave() {
    this.setState({
      selector: -1
    });
  }

  SelectControl(i) {
    this.setState({
      controls: i
    });
  }
}

Drums.propTypes = {
  beat: PropTypes.number.isRequired,
  pattern: PropTypes.object.isRequired,
  update: PropTypes.func.isRequired
}

export default Drums;
